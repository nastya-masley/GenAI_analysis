<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Analysis</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
      <main class="container">
        <header>
          <h1>AI Analysis</h1>
          <p class="title-note">Кохаю Вас Анастасіє Безмежно Сильно ❤️</p>
        </header>

      <section class="workspace">
        <form id="analyze-form" class="controls-panel">
          <section class="control-section">
            <h2 class="control-title">Video</h2>
            <section class="field">
              <span>Upload video</span>
              <label class="upload-btn">
                <input type="file" id="video" name="video" accept="video/*" />
                <span id="upload-btn-label">Select video</span>
              </label>
              <span id="selected-file-hint" class="help-text" hidden></span>
            </section>
          </section>

           <section class="control-section">
             <h2 class="control-title">Computer vision</h2>
             <div class="face-controls stacked">
               <div class="video-bg-control">
                 <label class="toggle">
                   <input type="checkbox" id="toggle-video-bg" />
                   <span>Show video background</span>
                 </label>
                 <label class="upload-btn" id="background-image-btn" style="display: none;">
                   <input type="file" id="background-image" accept="image/*" />
                   <span>Choose background</span>
                 </label>
               </div>
               <label class="toggle">
                 <input type="checkbox" id="toggle-face" checked />
                 <span>Face landmarks</span>
               </label>
               <label class="toggle">
                 <input type="checkbox" id="toggle-hand" checked />
                 <span>Hand landmarks</span>
               </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-pose" />
                <span>Pose landmarks</span>
              </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-object" />
                 <span>Object detection</span>
               </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-gesture" />
                 <span>Hand gestures</span>
               </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-face-detect" />
                 <span>Face detection</span>
               </label>
              <label class="toggle select-toggle">
                <span>Face style</span>
                <select id="face-style">
                  <option value="mesh">Mesh</option>
                  <option value="dots" selected>Dots</option>
                </select>
              </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-pose-joints" checked />
                <span>Pose joints</span>
              </label>
              <label class="toggle">
                <input type="checkbox" id="toggle-pose-trails" />
                <span>Pose trails</span>
              </label>
             </div>
           </section>

          <section class="control-section">
            <h2 class="control-title">Nonverbal analysis</h2>
            <section class="field prompt-field">
              <div class="prompt-actions">
                <button type="button" id="toggle-prompt" class="ghost-btn">
                  Customize prompt
                </button>
                <button type="submit" id="submit-btn">AI Analysis</button>
                <button
                  type="button"
                  id="show-analytics-btn"
                  class="ghost-btn"
                  style="display: inline-flex; align-items: center; justify-content: center;"
                >
                  View Analytics
                </button>
              </div>
              <textarea
                id="prompt"
                name="prompt"
                rows="16"
                hidden
                placeholder="Modify the default prompt here"
              ></textarea>
              <label class="toggle">
                <input type="checkbox" id="toggle-emotion-wheel" checked />
                <span>Emotion wheel</span>
              </label>
              <div class="player-card" id="emotion-wheel-container" hidden>
                <h3>Circumplex diagram</h3>
                <div class="emotion-wheel-wrapper">
                   <canvas id="emotion-wheel-canvas" width="300" height="300"></canvas>
                </div>
              </div>
            </section>
          </section>
        </form>

        <div class="players-panel vertical">
          <div class="player-card">
            <h3>Input</h3>
            <video id="preview" autoplay muted playsinline></video>
          </div>
          <div class="player-card">
            <h3>Output</h3>
            <canvas id="landmark-canvas" width="640" height="360"></canvas>
          </div>
        </div>

        <div class="outputs-panel" hidden>
          <div class="output-card fill-height">
            <h3>AI response</h3>
            <section id="status" class="status" hidden></section>
            <section id="result" class="result scrollable" hidden>
              <pre id="result-text"></pre>
            </section>
          </div>
          <div class="output-card fill-height">
            <h3>Analytics data</h3>
            <ul id="blend-shape-list" class="blend-shapes-list"></ul>
          </div>
        </div>
      </section>
    </main>

    <script type="module" src="script.js"></script>
  </body>
</html>
